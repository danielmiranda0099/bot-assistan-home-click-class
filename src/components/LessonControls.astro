---
import Button from "./Button.astro";

interface Props {
  hintDisabled?: boolean;
  tryAgainDisabled?: boolean;
}

const { hintDisabled = false, tryAgainDisabled = false } = Astro.props;
---

<div class="lesson-controls">
  <Button id="reset-button" variant="secondary" type="button">Reset</Button>
  <Button id="try-again-button" variant="warning" type="button" disabled={tryAgainDisabled}>Try Again</Button>
  <Button id="hint-button" variant="warning" type="button" disabled={hintDisabled}>Hint</Button>
  <Button variant="success" type="button" id="summary-button" disabled>See Summary</Button>
</div>

<style>
  .lesson-controls {
    display: flex;
    gap: var(--spacing-sm);
    justify-content: center;
    margin: var(--spacing-md) 0;
    flex-wrap: wrap;
  }
</style>

<script>
  import { AudioService } from "../stores/AudioService.ts";

  const audioService = new AudioService();

  document.getElementById("reset-button")?.addEventListener("click", () => audioService.play("click"));
  document.getElementById("try-again-button")?.addEventListener("click", () => audioService.play("click"));
  document.getElementById("hint-button")?.addEventListener("click", () => audioService.play("click"));
  document.getElementById("summary-button")?.addEventListener("click", () => audioService.play("click"));
</script>